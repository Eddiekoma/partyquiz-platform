# ============================================
# PartyQuiz Platform Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!

# ============================================
# DATABASE
# ============================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://partyquiz:password@localhost:5432/partyquiz

# ============================================
# REDIS
# ============================================
# Redis connection URL for caching and real-time data
REDIS_URL=redis://localhost:6379

# ============================================
# NEXTAUTH (Authentication)
# ============================================
# Public URL of your application
NEXTAUTH_URL=http://localhost:3000

# Secret for JWT signing (min 32 characters)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your_super_secret_key_min_32_characters_long

# ============================================
# EMAIL (Magic Link Authentication)
# ============================================
# Email sender address
EMAIL_FROM=noreply@partyquiz.com

# SMTP server configuration
EMAIL_SERVER_HOST=smtp.sendgrid.net
EMAIL_SERVER_PORT=587
EMAIL_SERVER_USER=apikey
EMAIL_SERVER_PASSWORD=your_sendgrid_api_key

# Alternative: Resend (recommended)
# EMAIL_SERVER_HOST=smtp.resend.com
# EMAIL_SERVER_PORT=465
# EMAIL_SERVER_USER=resend
# EMAIL_SERVER_PASSWORD=re_your_resend_api_key

# Alternative: Gmail (development only)
# EMAIL_SERVER_HOST=smtp.gmail.com
# EMAIL_SERVER_PORT=587
# EMAIL_SERVER_USER=your_email@gmail.com
# EMAIL_SERVER_PASSWORD=your_app_specific_password

# ============================================
# HETZNER OBJECT STORAGE (S3-Compatible)
# ============================================
# Endpoint URL (check Hetzner console for your region)
S3_ENDPOINT=https://fsn1.your-objectstorage.com

# Region (usually eu-central for Hetzner)
S3_REGION=eu-central

# Bucket name
S3_BUCKET=partyquiz-media-production

# Access credentials (from Hetzner console)
S3_ACCESS_KEY=your_hetzner_access_key
S3_SECRET_KEY=your_hetzner_secret_key

# ============================================
# SPOTIFY INTEGRATION
# ============================================
# Create app at: https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=your_spotify_client_id
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret

# OAuth callback URL (must match Spotify app settings)
SPOTIFY_REDIRECT_URI=http://localhost:3000/api/spotify/callback

# ============================================
# WEBSOCKET SERVER
# ============================================
# WebSocket server port (internal)
WS_PORT=8080

# CORS allowed origins (comma-separated)
CORS_ORIGIN=http://localhost:3000,https://partyquiz-platform.databridge360.com

# ============================================
# APPLICATION
# ============================================
# Environment: development | production
NODE_ENV=development

# App version (from package.json or git tag)
APP_VERSION=1.0.0

# Disable Next.js telemetry
NEXT_TELEMETRY_DISABLED=1

# ============================================
# RATE LIMITING (Optional)
# ============================================
# Maximum requests per IP per minute (default: 100)
RATE_LIMIT_MAX=100

# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW=60000

# ============================================
# LOGGING (Optional)
# ============================================
# Log level: debug | info | warn | error
LOG_LEVEL=info

# ============================================
# COOLIFY DEPLOYMENT (Production only)
# ============================================
# These are typically set by Coolify automatically

# PostgreSQL (managed by Coolify)
# DATABASE_URL=postgresql://...

# Redis (managed by Coolify)
# REDIS_URL=redis://...

# Public URL (from Coolify settings)
# NEXTAUTH_URL=https://partyquiz-platform.databridge360.com

# Cloudflare Tunnel (configured externally)
# No env vars needed - routing handled by Cloudflare

# ============================================
# OPTIONAL FEATURES
# ============================================

# Enable experimental features (default: false)
# ENABLE_EXPERIMENTAL_FEATURES=false

# Maximum file upload size in bytes (default: 10485760 = 10MB)
# MAX_UPLOAD_SIZE=10485760

# Session timeout in seconds (default: 86400 = 24 hours)
# SESSION_TIMEOUT=86400

# ============================================
# DEVELOPMENT ONLY
# ============================================
# Skip email verification in development
# DEV_SKIP_EMAIL_VERIFICATION=false

# Mock external API calls
# DEV_MOCK_APIS=false

# Enable debug logging
# DEBUG=*
